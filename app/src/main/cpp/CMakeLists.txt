#Generated by FakerAndroid for doc or help by https://github.com/Efaker/FakerAndroid

add_definitions(-DENABLE_DEBUG -DABC)
cmake_minimum_required(VERSION 3.4.1)
#include_directories(src/main/cpp/include)
#if(${ANDROID_ABI} MATCHES "arm64-v8a")
#    file(GLOB Scaffolding "${CMAKE_SOURCE_DIR}/Il2cpp-Scaffolding-ARM64/*.cpp")
#elseif(${ANDROID_ABI} MATCHES  "armeabi-v7a")
#    file(GLOB Scaffolding "${CMAKE_SOURCE_DIR}/Il2cpp-Scaffolding-ARM/*.cpp")
#endif()

#add_library(libtool STATIC IMPORTED)
#set_target_properties(libtool PROPERTIES IMPORTED_LOCATION  ${CMAKE_SOURCE_DIR}/libs/${ANDROID_ABI}/libtool.a)
file(GLOB native_srcc "${CMAKE_SOURCE_DIR}/*.cpp")
project("hello")
add_subdirectory(mbedtls-2.25.0)
add_subdirectory(curl-7.74.0)
#include_directories(mbedtls/include)
add_library(
        native-lib
        STATIC
        public.c
        native-lib.cpp
        )
target_link_libraries(
        native-lib
        android
        z
        libcurl
        mbedtls
        log)
add_library(fakelib SHARED empty.c)
target_link_libraries(
        fakelib
        native-lib
)
add_custom_command(TARGET fakelib
        POST_BUILD
        COMMAND ${CMAKE_AR} -x $<TARGET_FILE:libcurl>
        COMMAND ${CMAKE_AR} -x $<TARGET_FILE:mbedtls>
        COMMAND ${CMAKE_AR} -x $<TARGET_FILE:mbedcrypto>
        COMMAND ${CMAKE_AR} -x $<TARGET_FILE:mbedx509>
        COMMAND ${CMAKE_AR} -x $<TARGET_FILE:native-lib>
        COMMAND ${CMAKE_AR} -qcs ${CMAKE_BINARY_DIR}/lib${PROJECT_NAME}.a $$\(echo *.o\)
        COMMAND rm *.o
        WORKING_DIRECTORY ${CMAKE_BINARY_DIR}
        DEPENDS native-lib
        )